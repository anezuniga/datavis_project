<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resilient Housing Initiative - Environmental Justice and Zoning Reform</title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <script src="https://d3js.org/d3.v6.min.js"></script>
</head>
<body style="background-color: #ffffff;">   <!-- Body background color -->


<!-- NAVIGATION BAR -->
<div class="sticky">
  <h1>Resilient Housing Initiative</h1> <!-- Title -->
  <div class="navbar">
      <a href="#project_overview" class="active">Overview</a>
      <a href="#environmental_justice">Environmental Justice</a>
      <a href="#timeline">MAPC Zoning Timeline</a>
      <a href="#ej_zoning_title">Environmental Justice and Zoning Reform</a>
      <a href="#datasets">Datasets</a>
      <a href="#sources">Sources</a>
  </div>
</div>

<!-- add question -->
<div style="text-align: center; margin-top: 30px; font-size: 24px;"><strong>
  How can zoning reform support environmental justice populations in the Metro Boston Area?
</strong></div>

<!-- Project Overview -->
<div id="project_overview"></div>
<div id="environmental_justice"></div>


<script>
  // Function to fetch and insert HTML content into specified sections
  function fetchAndInsertContent(sectionId, fileName) {
      fetch(fileName)
          .then(response => response.text())
          .then(html => {
              document.getElementById(sectionId).innerHTML = html;
          });
  }

  // Fetching content for each section
  fetchAndInsertContent('project_overview', 'sections/project_overview.html');
  fetchAndInsertContent('environmental_justice', 'sections/environmental_justice.html');
  fetchAndInsertContent('ej_zoning_title', 'sections/ej_zoning_title.html');
  fetchAndInsertContent('datasets', 'sections/datasets.html');
  fetchAndInsertContent('sources', 'sections/sources.html');
</script>

<div id="timeline"></div>

<div class="ag-timeline-block">
  <div class="ag-timeline_title-box">
    <div class="ag-timeline_tagline"><!-- Timeline--></div>
    <div class="ag-timeline_title">History of Zoning in the MAPC Region</div>
  </div>
  <section class="ag-section">
    <div class="ag-format-container">
      <div class="js-timeline ag-timeline">
        <div class="js-timeline_line ag-timeline_line">
          <div class="js-timeline_line-progress ag-timeline_line-progress"></div>
        </div>
        <div class="ag-timeline_list">
          <div class="js-timeline_item ag-timeline_item">
            <div class="ag-timeline-card_box">
              <div class="js-timeline-card_point-box ag-timeline-card_point-box">
                <div class="ag-timeline-card_point">1920</div>
              </div>
              <div class="ag-timeline-card_meta-box">
                <div class="ag-timeline-card_meta">Racially restrictive covenants (1920s-1968)</div>
              </div>
            </div>
            <div class="ag-timeline-card_item">
              <div class="ag-timeline-card_inner">
                <div class="ag-timeline-card_img-box">
                  <img src="figures/timeline_1.webp" class="ag-timeline-card_img" width="640" height="540" />
                </div>
                <div class="ag-timeline-card_info">
                  <div class="ag-timeline-card_title">Racially restrictive covenants (1920s-1968)</div>
                  <div class="ag-timeline-card_desc">
                    Racially restrictive covenants (1920s-1968) are the contractual agreements that prohibit the purchase, lease, or occupation of property of a specific racial group, particularly Black Americans. Even after covenants were no longer legally sanctioned, residentials patterns created by the covenants greater lasting systemic exclusion of Non-White residents
                  </div>
                </div>
              </div>
              <div class="ag-timeline-card_arrow"></div>
            </div>
          </div>

          <div class="js-timeline_item ag-timeline_item">
            <div class="ag-timeline-card_box">
              <div class="ag-timeline-card_meta-box">
                <div class="ag-timeline-card_meta">Institutional redlining (1934-1968) </div>
              </div>
              <div class="js-timeline-card_point-box ag-timeline-card_point-box">
                <div class="ag-timeline-card_point">1934</div>
              </div>
            </div>
            <div class="ag-timeline-card_item">
              <div class="ag-timeline-card_inner">
                <div class="ag-timeline-card_img-box">
                  <img src="figures/timeline_2.jpeg" class="ag-timeline-card_img" width="640" height="540" alt="" />
                </div>
                <div class="ag-timeline-card_info">
                  <div class="ag-timeline-card_title">Institutional redlining (1934-1968) </div>
                  <div class="ag-timeline-card_desc">
                    The Federal Housing Administration institutionalized racism by utilizing redlining (1934-1968)  for mortgage insurance requirements. Redlining involved denying or restricting financial services to specific neighborhoods based on race or ethnicity regardless of residents creditworthiness.
                  </div>
                </div>
              </div>
              <div class="ag-timeline-card_arrow"></div>
            </div>
          </div>

          <div class="js-timeline_item ag-timeline_item">
            <div class="ag-timeline-card_box">
              <div class="js-timeline-card_point-box ag-timeline-card_point-box">
                <div class="ag-timeline-card_point">1968</div>
              </div>
              <div class="ag-timeline-card_meta-box">
                <div class="ag-timeline-card_meta">suburban zoning policies (1968-Present)</div>
              </div>
            </div>
            <div class="ag-timeline-card_item">
              <div class="ag-timeline-card_inner">
                <div class="ag-timeline-card_img-box">
                  <img src="figures/timeline_3.jpg" class="ag-timeline-card_img" width="640" height="540" alt="" />
                </div>
                <div class="ag-timeline-card_info">
                  <div class="ag-timeline-card_title">suburban zoning policies (1968-Present)</div>
                  <div class="ag-timeline-card_desc">
                    Since the 1970s, suburban zoning policies have worsened racial and socioeconomic segregation, with regulations like large lot requirements and minimum multifamily zoning excluding lower-income families and people of color. Originally aimed at controlling density and inflating housing prices, these rules persist today, limiting affordability and rental options, particularly for African American and Latino communities and family households. 
                  </div>
                </div>
              </div>
              <div class="ag-timeline-card_arrow"></div>
            </div>
          </div>

                    
        </div>
      </div>
    </div>
  </section>
</div>


<div id="ej_zoning_title"></div>

<div class="spacer"></div> <!-- Add blank vertical space -->

<div class="container">
  <div class="wide-chart-container">
    <svg class="chart" id="scatterplot" width="400" height="400"></svg>
  </div>
</div>

<div>
  <input type="checkbox" id="toggleX" unchecked>
  <label for="toggleX">Click to View by Criteria</label>
</div>

<div class="spacer"></div> <!-- Add blank vertical space -->
<div class="spacer"></div> <!-- Add blank vertical space -->

<div class="container">
  <div class="chart-container">
    <svg class="chart" id="piechart" width="400" height="400"></svg>
    <div id="legend" class="legend" style="margin-left: 20px;"></div>
  </div>
</div>

<div class="spacer"></div> <!-- Add blank vertical space -->


<!-- <script src="https://d3js.org/d3.v7.min.js"></script> -->
<script src="animate_piechart.js"></script>
<script src="animate_ej_scatterplot.js"></script>

<div id="ej_zoning"></div>

<!-- 4 municipalities -->
<style>
  p {
    padding: 20px;
  }
</style>
<p><strong>
  Explore 4 municipalities
</strong></p>
<p>
  The following visualizations illustrate the relationship between single-family zoning, parcels data, and environmental justice populations in four different municipalities in the MAPC region.
</p>

<div class="municipalities-container">
  <div class="municipalities-figure-container">
    <div class="municipalities-image-container">
      <img src="figures/mapc_towns_general.svg" alt="Left Image" id="leftImage">
    </div>
    <div class="municipalities-image-container">
      <img src="figures/Cambridge.svg" alt="Right Image" id="rightImage">
    </div>
  </div>
  <div class="municipalities-text-container">
    <div class="municipalities-description" id="leftText">MAPC region. To do further exploration please select one of the highlighted municipalities.</div>
    <div class="municipalities-description" id="rightText">Cambridge is labeled as a 0% single-family municipality, but it actually has numerous single-family parcels, especially around Harvard, where there are no environmental justice populations. However, Cambridge does have a substantial environmental justice population compared to municipalities with single-family zoning.</div>
  </div>
</div>
<script src="interactive_towns.js"></script>

<p>
  Based on this analysis a main takeaway is that most of the environmental justice populations are concentrated where
  there are not a lot of single family zoning and single family residence. To better support the environmental justice
  population we can create zoning reforms. There is an immediate need for changing the zoning from single family zoning to
  include “missing middle” types of housing and also allowing accessory dwelling units (ADUs) to be built in places where
  single family houses have already been built. ADUs are smaller, independent residential units that are located on the
  same parcel as the single family home but it is detached from the house. This can increase the supply of housing and
  meet the demand of the people as well as increase housing affordability in the MAPC region.
</p> 


<!-- Slider -->

<div class="container-interactive">
  <div class="img-zoom-container">
    <img id="mainMap" src="figures/empty_mapc.svg" style="max-width: 100%; height: auto;">
  </div>
  <div class="img-zoom-result-container">
    <div id="zoomResult1" class="img-zoom-result"></div>
    <div id="zoomResult2" class="img-zoom-result"></div>
  </div>
</div>

<script>
  function imageZoom(mainMapID, resultID1, resultID2, imageSrc1, imageSrc2) {
    var img = document.getElementById(mainMapID);
    var result1 = document.getElementById(resultID1);
    var result2 = document.getElementById(resultID2);
    var lens = document.createElement("DIV");
    lens.setAttribute("class", "img-zoom-lens");
    img.parentElement.insertBefore(lens, img);
  
    // Calculate the ratio between result DIVs and the lens
    var cx = result1.offsetWidth / lens.offsetWidth;
    var cy = result1.offsetHeight / lens.offsetHeight;
  
    // Set background properties for the result DIVs with different images
    result1.style.backgroundImage = "url('" + imageSrc1 + "')";
    result2.style.backgroundImage = "url('" + imageSrc2 + "')";
    result1.style.backgroundSize = result2.style.backgroundSize = (img.width * cx) + "px " + (img.height * cy) + "px";
  
    // Function to move the lens
    function moveLens(e) {
      e.preventDefault();
      var pos = getCursorPos(e);
      var x = pos.x - (lens.offsetWidth / 2);
      var y = pos.y - (lens.offsetHeight / 2);
      if (x > img.width - lens.offsetWidth) x = img.width - lens.offsetWidth;
      if (x < 0) x = 0;
      if (y > img.height - lens.offsetHeight) y = img.height - lens.offsetHeight;
      if (y < 0) y = 0;
      lens.style.left = x + "px";
      lens.style.top = y + "px";
      result1.style.backgroundPosition = "-" + (x * cx) + "px -" + (y * cy) + "px";
      result2.style.backgroundPosition = "-" + (x * cx) + "px -" + (y * cy) + "px";
    }
  
    // Function to get the cursor's position relative to the image
    function getCursorPos(e) {
      var a = img.getBoundingClientRect();
      var x = e.pageX - a.left - window.pageXOffset;
      var y = e.pageY - a.top - window.pageYOffset;
      return {x: x, y: y};
    }
  
    lens.addEventListener("mousemove", moveLens);
    img.addEventListener("mousemove", moveLens);
    lens.addEventListener("touchmove", moveLens);
    img.addEventListener("touchmove", moveLens);
  }
  
  // Ensure the image is fully loaded before initializing the zoom
  document.getElementById("mainMap").onload = function() {
    imageZoom("mainMap", "zoomResult1", "zoomResult2", "figures/sfam_mapc.svg", "figures/ej_mapc.svg");
  };
  
  // Handle resizing
  window.addEventListener('resize', function() {
    imageZoom("mainMap", "zoomResult1", "zoomResult2", "figures/sfam_mapc.svg", "figures/ej_mapc.svg");
  });
  </script>

<div id="datasets"></div>
<div id="sources"></div>




<script type="text/javascript"
        src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script src="animate_timeline.js"></script>
<script src="interactive_slider.js"></script>
<script src="scrollNavigation.js"></script>


</body>
</html>